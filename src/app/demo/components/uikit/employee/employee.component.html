<div class="grid">
	<div class="col-12">
		<div class="card">
			<h5>Listado de Trabajadores</h5>
			<p-table #dt1  [value]="employees" dataKey="_id" [rows]="10"  [rowHover]="true" 
			styleClass="p-datatable-gridlines" [paginator]="true"  responsiveLayout="scroll"
			[globalFilterFields]="['rut','name','age','id_faena','']">
				<ng-template pTemplate="caption">
					<div class="flex justify-content-between flex-column sm:flex-row">
						<button pButton label="Nueva empresa" class="p-button-outlined mb-2" icon="pi pi-user-plus" (click)="newEmployee()"></button>

                        <span class="p-input-icon-left mb-2">
							<i class="pi pi-search"></i>
							<input pInputText type="text" #filter (input)="onGlobalFilter(dt1, $event)" placeholder="Buscar" class="w-full"/>
						</span>
					</div>
				</ng-template>
				<ng-template pTemplate="header">
					<tr>
                        <th ><!-- style="min-width: 12rem" -->
                            name

						</th>
						<th >

							Rut

						</th>
						<th >
							age

						</th>
						<th >
							scholarship


						</th>
						<th >
							Post

						</th>
						<th >
								Empresa

						</th>
						<th >
                            Licencia de conducir

						</th>
						<th >
							Licencia de conducir v√°lida
						</th>
						<th >
                            Acciones
						</th>
					</tr>
				</ng-template>
				<ng-template pTemplate="body" let-employee>
					<tr>

						<td>
							
							<span class="image-text ml-2">{{employee.name}}</span>
						</td>
                        <td>
							{{employee.rut}}
						</td>
						<td>
							{{employee.age}}
						</td>
						<td>
							{{employee.scholarship}}
						</td>
						<td>
							{{employee.post}}
						</td>
						<td>
                            {{employee.id_faena}}
							<!-- <span [class]="'customer-badge status-' + customer.status">{{employee.faena}}</span> -->
						</td>
						<td>
                            {{employee.driver_license}}
							<!-- <p-progressBar [value]="customer.activity" [showValue]="false" [style]="{'height': '0.5rem'}"></p-progressBar> -->
						</td>
						<td class="text-center">
                            {{employee.valid_driver_license}}
						</td>
						
                        <td>
                            <button pButton label="Editar" class="p-button-rounded p-button-success mr-2"
                                icon="pi pi-pencil" (click)="updateEmployee(employee)"><!-- (click)="newemployee()"  -->
                            </button>
                            <button pButton label="Eliminar" class="p-button-rounded p-button-danger"
                            icon="pi pi-trash" (click)="deleteEmployee($event,employee)"  pTooltip="Eliminar Empresa">
                        </button>

                        </td>
					</tr>
				</ng-template>
				<ng-template pTemplate="emptymessage">
					<tr>
						<td colspan="8">No customers found.</td>
					</tr>
				</ng-template>
				<ng-template pTemplate="loadingbody">
					<tr>
						<td colspan="8">Loading customers data. Please wait.</td>
					</tr>
				</ng-template>
    		</p-table>
		</div>

	</div>
</div>

<p-toast key="tst"></p-toast>
<p-confirmPopup></p-confirmPopup>
